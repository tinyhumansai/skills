{
  "id": "gmail",
  "name": "Gmail",
  "runtime": "quickjs",
  "entry": "index.js",
  "version": "1.0.0",
  "description": "Gmail integration via Google API â€” comprehensive email management with OAuth2 authentication, send/receive, labels, search, and attachments.",
  "auto_start": false,
  "platforms": ["windows", "macos", "linux", "android", "ios"],
  "setup": {
    "required": true,
    "label": "Connect Gmail",
    "oauth": {
      "provider": "google",
      "scopes": [
        "https://www.googleapis.com/auth/gmail.readonly",
        "https://www.googleapis.com/auth/gmail.send",
        "https://www.googleapis.com/auth/gmail.modify",
        "https://www.googleapis.com/auth/gmail.labels"
      ],
      "apiBaseUrl": "https://gmail.googleapis.com/gmail/v1"
    }
  },
  "entity_schema": {
    "entity_types": [
      {
        "type": "gmail.email",
        "label": "Gmail Email",
        "description": "An email message in Gmail.",
        "properties": [
          { "name": "subject", "type": "string", "description": "Email subject line" },
          { "name": "sender_email", "type": "string", "description": "Sender's email address" },
          {
            "name": "sender_name",
            "type": "string",
            "description": "Sender's display name",
            "optional": true
          },
          {
            "name": "recipient_email",
            "type": "string",
            "description": "Primary recipient's email address"
          },
          {
            "name": "date",
            "type": "string",
            "description": "ISO 8601 timestamp when email was sent"
          },
          { "name": "snippet", "type": "string", "description": "Brief preview of email content" },
          {
            "name": "is_read",
            "type": "boolean",
            "description": "Whether the email has been read"
          },
          {
            "name": "is_important",
            "type": "boolean",
            "description": "Whether the email is marked as important"
          },
          {
            "name": "has_attachments",
            "type": "boolean",
            "description": "Whether the email has attachments"
          }
        ]
      },
      {
        "type": "gmail.thread",
        "label": "Gmail Thread",
        "description": "A conversation thread in Gmail.",
        "properties": [
          { "name": "subject", "type": "string", "description": "Thread subject line" },
          {
            "name": "message_count",
            "type": "number",
            "description": "Number of messages in thread"
          },
          {
            "name": "participants",
            "type": "string",
            "description": "Comma-separated list of participant emails"
          },
          {
            "name": "last_message_date",
            "type": "string",
            "description": "ISO 8601 timestamp of last message"
          },
          {
            "name": "is_read",
            "type": "boolean",
            "description": "Whether all messages in thread are read"
          },
          {
            "name": "has_attachments",
            "type": "boolean",
            "description": "Whether any message has attachments"
          }
        ]
      },
      {
        "type": "gmail.label",
        "label": "Gmail Label",
        "description": "A label/folder in Gmail.",
        "properties": [
          { "name": "name", "type": "string", "description": "Label name" },
          { "name": "type", "type": "string", "description": "Label type: system or user" },
          {
            "name": "message_count",
            "type": "number",
            "description": "Number of messages with this label"
          },
          {
            "name": "unread_count",
            "type": "number",
            "description": "Number of unread messages with this label"
          },
          { "name": "color", "type": "string", "description": "Label color", "optional": true }
        ]
      }
    ],
    "relationship_types": [
      {
        "type": "email_in_thread",
        "source_type": "gmail.email",
        "target_type": "gmail.thread",
        "description": "Email is part of this thread.",
        "cardinality": "many_to_one"
      },
      {
        "type": "email_has_label",
        "source_type": "gmail.email",
        "target_type": "gmail.label",
        "description": "Email is tagged with this label.",
        "cardinality": "many_to_many"
      },
      {
        "type": "thread_has_label",
        "source_type": "gmail.thread",
        "target_type": "gmail.label",
        "description": "Thread is tagged with this label.",
        "cardinality": "many_to_many"
      }
    ]
  }
}
